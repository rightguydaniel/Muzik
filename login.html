<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <title>login</title>
</head>
<body id="Background">
    <div class="flex">
        <div class="container">
            <img src="images/i (3) 2.png" alt="MUZIR">
        </div>
        <div class="form-container" id="fix">
            <form id="login">
                <h3>Login to Muzira</h3>
                <label for="email"></label><br>
                <input type="email" placeholder="Email Address" class="email" id="fix" required>
                <label for="password"></label><br>
                <input type="password" placeholder="Password" class="password" id="fix" required>
                <a href="#"><span>Forgot Password?</span></a><br>
                <button id="btn3"><span>Log in</button>
                <h2 class="hr-lines">or</h2>
                <button id="btn2"><img src="images/google-removebg-preview 1.png" alt="google"><a href="#"><span>Continue With Google</span></a></button>
                <div class="link">
                    <a href="signup.html"><span >Don't have an account? Sign up</span></a>
                </div>
            </form>
        </div>
    </div>

    <!--Backend-->
    <script>
  
        document.getElementById('login').addEventListener('reg-btn', function(event) {
      
        event.preventDefault();
      
        const email = document.getElementsByClassName('email').value;
        const password = document.getElementsByClassName('password').value;

       //Creating an object with the form data
      
       const data = {email,password};
      
       const url = 'https://muzira.shbootcamp.com.ng/signup.php';
       // Fetch the Create API
       fetch(url, {
          method: 'POST',
          body: JSON.stringify(data),
          headers: {
              'Content-Type':'application/json'
          }
       })
       .then(async (response) => {
                  const result = await response.json();
                  const err = result.status;
                  const msg = result.message;
                  if(err === 'error'){
                  alertify.error(msg);
                  }else{
                      alertify.success(msg);
                      document.getElementById('reg-form').reset();
                      window.location="home.html";
                  }
              })
              
      });
      
    </script>
</body>
</html>